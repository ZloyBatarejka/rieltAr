# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî Balivi

> –î–∞—Ç–∞: 23.02.2026

---

## –û–±–∑–æ—Ä —Ñ–∞–∑

| #   | –§–∞–∑–∞                            | –û–ø–∏—Å–∞–Ω–∏–µ                           | –°—Ç–∞—Ç—É—Å |
| --- | ------------------------------- | ---------------------------------- | ------ |
| 1   | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞           | –°–∫–µ–ª–µ—Ç backend + frontend + –ë–î     | ‚úÖ     |
| 2   | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è                     | JWT, guards, –ª–æ–≥–∏–Ω, —Ä–æ—É—Ç–∏–Ω–≥, —Ç–µ—Å—Ç—ã | ‚úÖ     |
| 3   | CRUD —Å—É—â–Ω–æ—Å—Ç–µ–π (Backend)        | –í—Å–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã + —Ç–µ—Å—Ç—ã          | üîÑ     |
| 4   | Dashboard + –±–∞–ª–∞–Ω—Å              | –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤ + —Ç–µ—Å—Ç—ã         | ‚¨ú     |
| 5   | –ö–∞–±–∏–Ω–µ—Ç –∞–¥–º–∏–Ω–∞ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (Frontend) | Admin UI + Manager UI + —Ç–µ—Å—Ç—ã | ‚¨ú     |
| 6   | –ö–∞–±–∏–Ω–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (Frontend) | –ü–æ–ª–Ω—ã–π UI —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ + —Ç–µ—Å—Ç—ã     | ‚¨ú     |
| 7   | –ü–æ–ª–∏—Ä–æ–≤–∫–∞ + –¥–µ–ø–ª–æ–π              | –í–∞–ª–∏–¥–∞—Ü–∏—è, seed, Docker            | ‚¨ú     |

---

## –§–∞–∑–∞ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–¶–µ–ª—å:** –∑–∞–ø—É—Å–∫–∞–µ–º—ã–π —Å–∫–µ–ª–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî backend –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã, frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É, –ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∞.

### –®–∞–≥–∏

- [x] **1.1** –°–æ–∑–¥–∞—Ç—å NestJS backend
  - `nest new backend`
  - –£–¥–∞–ª–∏—Ç—å –ª–∏—à–Ω–µ–µ, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `main.ts` (CORS, global prefix `/api`)
  - –°–æ–∑–¥–∞—Ç—å `PrismaModule` + `PrismaService`

- [x] **1.2** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prisma
  - `npm install prisma @prisma/client`
  - `npx prisma init`
  - –ù–∞–ø–∏—Å–∞—Ç—å `schema.prisma` —Å–æ –≤—Å–µ–º–∏ –º–æ–¥–µ–ª—è–º–∏ (User, Owner, Property, Stay, Transaction, Payout)
  - `npx prisma migrate dev --name init` ‚Äî –ø–µ—Ä–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

- [x] **1.3** –°–æ–∑–¥–∞—Ç—å React frontend
  - `npm create vite@latest frontend -- --template react-ts`
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: Chakra UI, axios, react-router-dom
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ (FSD)

- [x] **1.4** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Chakra UI
  - –ü–æ–¥–∫–ª—é—á–∏—Ç—å `ChakraProvider` —Å —Ç–µ–º–æ–π –∏ semanticTokens
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞

- [x] **1.5** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
  - `.env` –∏ `.env.example` –¥–ª—è backend –∏ frontend
  - `.gitignore` (node_modules, dist, .env, prisma/\*.db)
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** backend –Ω–∞ :8070 –æ—Ç–¥–∞—ë—Ç `GET /api/health ‚Üí { status: "ok" }`, frontend –Ω–∞ :3070 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≥–ª—É—à–∫—É —Å Chakra UI.

---

## –§–∞–∑–∞ 2: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–¶–µ–ª—å:** –º–µ–Ω–µ–¥–∂–µ—Ä –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É, –≤–∏–¥—è—Ç —Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

### Backend

- [x] **2.1** Auth –º–æ–¥—É–ª—å ‚Äî –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `@nestjs/jwt`, `@nestjs/passport`, `passport-jwt`, `bcrypt`
  - `AuthModule`, `AuthService`, `AuthController`
  - `POST /api/auth/login` ‚Äî –≤—Ö–æ–¥, –≤–æ–∑–≤—Ä–∞—Ç access + refresh —Ç–æ–∫–µ–Ω–æ–≤
  - `GET /api/auth/me` ‚Äî —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  - `JwtStrategy` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è access-—Ç–æ–∫–µ–Ω–∞

- [x] **2.2** Refresh-—Ç–æ–∫–µ–Ω—ã
  - –ú–æ–¥–µ–ª—å `RefreshToken` –≤ Prisma (tokenHash, userId, expiresAt)
  - –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î
  - `POST /api/auth/refresh` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤ (—Ä–æ—Ç–∞—Ü–∏—è)
  - `POST /api/auth/logout` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–∞ –∏–∑ –ë–î
  - –ü—Ä–∏ –ª–æ–≥–∏–Ω–µ: —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö refresh-—Ç–æ–∫–µ–Ω–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ
  - –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–∞ (SHA-256) –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î

- [x] **2.3** Guards –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
  - `JwtAuthGuard` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π guard
  - `RolesGuard` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏
  - `@Roles(Role.MANAGER)` ‚Äî –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
  - `@Public()` ‚Äî –ø–æ–º–µ—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
  - `@CurrentUser()` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç–æ–∫–µ–Ω–∞

- [x] **2.4** Swagger
  - –ü–æ–¥–∫–ª—é—á–∏—Ç—å `@nestjs/swagger`, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `DocumentBuilder`
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `swagger.json` –≤ –ø–∞–ø–∫—É `swagger/`
  - –°–∫—Ä–∏–ø—Ç `npm run swagger:generate`
  - Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `/api/docs`

- [x] **2.5** Seed-—Å–∫—Ä–∏–ø—Ç
  - `prisma/seed.ts` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (admin@balivi.ru)
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `prisma.seed` –≤ `package.json`

- [x] **2.6** –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Backend)
  - Jest + supertest
  - `AuthService` ‚Äî unit-—Ç–µ—Å—Ç—ã (login, refresh, logout, getMe)
  - `AuthController` ‚Äî e2e-—Ç–µ—Å—Ç—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ (login, refresh, logout, me)
  - `JwtAuthGuard` ‚Äî —Ç–µ—Å—Ç—ã: –∑–∞–∫—Ä—ã—Ç—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ ‚Üí 401, —Å —Ç–æ–∫–µ–Ω–æ–º ‚Üí OK
  - `RolesGuard` ‚Äî —Ç–µ—Å—Ç—ã: –¥–æ—Å—Ç—É–ø –ø–æ —Ä–æ–ª–∏, –æ—Ç–∫–∞–∑ –ø—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏
  - `@Public()` ‚Äî —Ç–µ—Å—Ç: –ø—É–±–ª–∏—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –±–µ–∑ —Ç–æ–∫–µ–Ω–∞

### Frontend

- [x] **2.7** –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è API-–∫–ª–∏–µ–Ω—Ç–∞
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `swagger-typescript-api` –Ω–∞ –æ—Å–Ω–æ–≤–µ `swagger/swagger.json`
  - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ ‚Üí `frontend/src/api/generated/`
  - –û–±—ë—Ä—Ç–∫–∞ `ApiClient` —Å —è–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ ‚Üí `frontend/src/api/api-client.ts`
  - –°–∫—Ä–∏–ø—Ç `npm run api:generate` –¥–ª—è –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

- [x] **2.8** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è UI
  - `AuthStore` (MobX) ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ access-—Ç–æ–∫–µ–Ω–∞ –≤ –ø–∞–º—è—Ç–∏, refresh-—Ç–æ–∫–µ–Ω–∞ –≤ localStorage
  - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ —Å —Ñ–æ—Ä–º–æ–π (Chakra UI + RHF + Zod)
  - `GuardedRoute` ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
  - Axios interceptor ‚Äî –∞–≤—Ç–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ `Authorization: Bearer`
  - Axios interceptor ‚Äî –ø—Ä–∏ `401` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh –∏ retry –∑–∞–ø—Ä–æ—Å–∞
  - –ö–Ω–æ–ø–∫–∞ ¬´–í—ã–π—Ç–∏¬ª ‚Äî –≤—ã–∑–æ–≤ `POST /api/auth/logout` + –æ—á–∏—Å—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
  - –†–æ—É—Ç–∏–Ω–≥: admin ‚Üí `/admin/*`, –º–µ–Ω–µ–¥–∂–µ—Ä ‚Üí `/manager/*`, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ ‚Üí `/owner/*`

- [x] **2.9** Layouts
  - `AdminLayout` ‚Äî —Å–∞–π–¥–±–∞—Ä –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - `ManagerLayout` ‚Äî —Å–∞–π–¥–±–∞—Ä —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - `OwnerLayout` ‚Äî —Å–∞–π–¥–±–∞—Ä —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞

- [x] **2.10** –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Frontend)
  - Vitest + React Testing Library
  - `AuthStore` ‚Äî unit-—Ç–µ—Å—Ç—ã (login, logout, refresh, —Å–æ—Å—Ç–æ—è–Ω–∏—è)
  - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ ‚Äî —Ä–µ–Ω–¥–µ—Ä —Ñ–æ—Ä–º—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è, submit
  - `GuardedRoute` ‚Äî —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π, –ø—Ä–æ–ø—É—Å–∫ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö

- [x] **2.11** –†–æ–ª—å ADMIN (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞) ‚Äî —Å–º. `ADMIN_ROLE_PLAN.md`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –º–æ–∂–Ω–æ –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è (access + refresh), –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞, logout. Layout-—ã –¥–ª—è admin, –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞. ADMIN —Å–æ–∑–¥–∞—ë—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã. –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

---

## –§–∞–∑–∞ 3: CRUD —Å—É—â–Ω–æ—Å—Ç–µ–π (Backend)

**–¶–µ–ª—å:** –≤—Å–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î.

### –®–∞–≥–∏

- [x] **3.1** Users –º–æ–¥—É–ª—å
  - `POST /api/users/owner` ‚Äî ADMIN —Å–æ–∑–¥–∞—ë—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞
  - `POST /api/users/manager` ‚Äî ADMIN —Å–æ–∑–¥–∞—ë—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - `GET /api/users/managers` ‚Äî —Å–ø–∏—Å–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
  - `DELETE /api/users/:id` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - DTO —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ (canCreateOwners, canCreateProperties)

- [x] **3.1.1** ManagerProperties –º–æ–¥—É–ª—å
  - `POST /api/manager-properties` ‚Äî –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - `DELETE /api/manager-properties/:id` ‚Äî —Å–Ω—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
  - `GET /api/manager-properties` ‚Äî —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π (—Ñ–∏–ª—å—Ç—Ä userId, propertyId)

- [x] **3.1.2** PropertyScopeService (–æ—Å—Ç–∞—Ç–æ–∫ ADMIN_ROLE_PLAN, —Ñ–∞–∑–∞ C)
  - –£—Ç–∏–ª–∏—Ç–∞: –ø–æ–ª—É—á–µ–Ω–∏–µ `assignedPropertyIds` –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - –ú–µ—Ç–æ–¥ `getScopeWhere(userId, role)` ‚Äî Prisma `where` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Owners, Properties, Stays, Transactions, Payouts, Dashboard

- [x] **3.2** Owners –º–æ–¥—É–ª—å (—Å–∫–æ—É–ø–∏–Ω–≥ —á–µ—Ä–µ–∑ PropertyScopeService)
  - `GET /api/owners` ‚Äî —Å–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π + –ø–æ–∏—Å–∫
  - ADMIN ‚Äî –≤—Å–µ; Manager ‚Äî —Ç–æ–ª—å–∫–æ `ownerId IN (owners of assigned properties)`
  - `GET /api/owners/:id` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (—Å –ø–æ–¥—Å—á—ë—Ç–æ–º –±–∞–ª–∞–Ω—Å–∞)
  - `PATCH /api/owners/:id` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  - `DELETE /api/owners/:id` ‚Äî –º—è–≥–∫–æ–µ/–∂—ë—Å—Ç–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

- [x] **3.3** Properties –º–æ–¥—É–ª—å (—Å–∫–æ—É–ø–∏–Ω–≥ —á–µ—Ä–µ–∑ PropertyScopeService)
  - CRUD –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ (—Å–æ–∑–¥–∞–Ω–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ ADMIN)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ ownerId
  - ADMIN ‚Äî –≤—Å–µ; Manager ‚Äî —Ç–æ–ª—å–∫–æ `id IN (assigned propertyIds)`; Owner ‚Äî —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏

- [ ] **3.4** Stays –º–æ–¥—É–ª—å (—Å–∫–æ—É–ø–∏–Ω–≥: Manager ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã)
  - `POST /api/stays` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–µ–∑–¥–∞
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: INCOME, COMMISSION (–æ–ø—Ü.), CLEANING (–æ–ø—Ü.)
    - –í—Å—ë –≤ –æ–¥–Ω–æ–π Prisma-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (`prisma.$transaction`)
  - `GET /api/stays` ‚Äî —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (propertyId, ownerId, –¥–∞—Ç—ã)
  - `GET /api/stays/:id` ‚Äî –¥–µ—Ç–∞–ª–∏ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
  - `DELETE /api/stays/:id` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–µ–∑–¥–∞ + —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

- [ ] **3.5** Transactions –º–æ–¥—É–ª—å (—Å–∫–æ—É–ø–∏–Ω–≥: Manager ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ propertyId)
  - `POST /api/transactions` ‚Äî —Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (propertyId –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
  - `GET /api/transactions` ‚Äî —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ + –ø–∞–≥–∏–Ω–∞—Ü–∏—è
  - `DELETE /api/transactions/:id` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ

- [ ] **3.6** Payouts –º–æ–¥—É–ª—å (—Å–∫–æ—É–ø–∏–Ω–≥: Manager ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ propertyId)
  - `POST /api/payouts` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã (propertyId –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç–∏–ø–∞ PAYOUT
    - –í –æ–¥–Ω–æ–π Prisma-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  - `GET /api/payouts` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—ã–ø–ª–∞—Ç
  - `DELETE /api/payouts/:id` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ

- [ ] **3.7** –¢–µ—Å—Ç—ã CRUD (Backend)
  - Jest + supertest
  - Users ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è DTO, –¥—É–±–ª–∏–∫–∞—Ç email
  - Owners ‚Äî CRUD, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –ø–æ–¥—Å—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞
  - Properties ‚Äî CRUD, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ ownerId, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞
  - Stays ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å –∞–≤—Ç–æ—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, –∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
  - Transactions ‚Äî CRUD, —Ñ–∏–ª—å—Ç—Ä—ã, —Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
  - Payouts ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å –∞–≤—Ç–æ—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π PAYOUT

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≤—Å–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ API, –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏.

---

## –§–∞–∑–∞ 4: Dashboard + –∞–≥—Ä–µ–≥–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∞

**–¶–µ–ª—å:** —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ —Å —Ä–∞—Å—á—ë—Ç–æ–º –±–∞–ª–∞–Ω—Å–∞.

### –®–∞–≥–∏

- [ ] **4.1** Dashboard –º–æ–¥—É–ª—å (—Å–∫–æ—É–ø–∏–Ω–≥: Manager ‚Äî –∞–≥—Ä–µ–≥–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º)
  - `GET /api/dashboard` ‚Äî –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ JWT)
  - `GET /api/dashboard/owner/:id` ‚Äî –¥–ª—è Admin / Manager (Manager ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —É owner)
  - –ê–≥—Ä–µ–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Prisma `groupBy` / `aggregate`:
    - –û–±—â–∏–π –±–∞–ª–∞–Ω—Å
    - –î–æ—Ö–æ–¥ –∑–∞ –ø–µ—Ä–∏–æ–¥
    - –†–∞—Å—Ö–æ–¥—ã –∑–∞ –ø–µ—Ä–∏–æ–¥
    - –í—ã–ø–ª–∞—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥
    - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –æ–ø–µ—Ä–∞—Ü–∏–π
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–µ–∑–¥–æ–≤

- [ ] **4.2** –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥—É
  - Query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã: `period` (month / quarter / year / all)
  - –ò–ª–∏ `from` / `to` –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

- [ ] **4.3** –¢–µ—Å—Ç—ã Dashboard (Backend)
  - Jest + supertest
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–∞ –±–∞–ª–∞–Ω—Å–∞ (INCOME ‚àí COMMISSION ‚àí CLEANING ‚àí EXPENSE ‚àí PAYOUT)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥—É (month / quarter / year / all / from-to)
  - –î–æ—Å—Ç—É–ø: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ ‚Äî —Ç–æ–ª—å–∫–æ —Å–≤–æ–π; Manager ‚Äî —Ç–æ–ª—å–∫–æ owners —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏; Admin ‚Äî –ª—é–±–æ–π
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏–∏: propertiesCount, activeStaysCount

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Å–≤–æ–¥–∫—É –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞, –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏.

---

## –§–∞–∑–∞ 5: –§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî –ö–∞–±–∏–Ω–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞

**–¶–µ–ª—å:** –ø–æ–ª–Ω—ã–π UI –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.

### –®–∞–≥–∏

- [ ] **5.0** –ö–∞–±–∏–Ω–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ—Å—Ç–∞—Ç–æ–∫ ADMIN_ROLE_PLAN, —Ñ–∞–∑–∞ D)
  - `/admin/managers` ‚Äî —Å–ø–∏—Å–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤, —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è, —É–¥–∞–ª–µ–Ω–∏–µ
  - `/admin/owners` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤, —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  - `/admin/properties` ‚Äî CRUD –æ–±—ä–µ–∫—Ç–æ–≤
  - `/admin/assignments` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π, —Ñ–æ—Ä–º–∞ ¬´–Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞¬ª

- [ ] **5.1** API-–∫–ª–∏–µ–Ω—Ç
  - –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è `swagger-typescript-api` —Å –Ω–æ–≤—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ë—Ä—Ç–∫–∏ `ApiClient`
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

- [ ] **5.2** –°–ø–∏—Å–æ–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ (`/manager/owners`) ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö (–ø–æ —Å–∫–æ—É–ø–∏–Ω–≥—É)
  - –¢–∞–±–ª–∏—Ü–∞: –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –æ–±—ä–µ–∫—Ç–æ–≤, –±–∞–ª–∞–Ω—Å
  - –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏
  - –ö–Ω–æ–ø–∫–∞ ¬´–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞¬ª ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–æ (canCreateOwners)

- [ ] **5.3** –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (`/manager/owners/:id`)
  - –®–∞–ø–∫–∞: –∏–º—è, –±–∞–ª–∞–Ω—Å, –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
  - –í–∫–ª–∞–¥–∫–∏ (Tabs):
    - –û–±–∑–æ—Ä (–º–∏–Ω–∏-–¥–∞—à–±–æ—Ä–¥)
    - –û–±—ä–µ–∫—Ç—ã
    - –ó–∞–µ–∑–¥—ã
    - –û–ø–µ—Ä–∞—Ü–∏–∏
    - –í—ã–ø–ª–∞—Ç—ã

- [ ] **5.4** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏ ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ
  - –¢–∞–±–ª–∏—Ü–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (–≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ + –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
  - –ú–æ–¥–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ (—Å–æ–∑–¥–∞–Ω–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ canCreateProperties)
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ

- [ ] **5.5** –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–µ–∑–¥–∞ (`/manager/stays/create`)
  - –§–æ—Ä–º–∞: –≤—ã–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞, –∏–º—è –≥–æ—Å—Ç—è, –¥–∞—Ç—ã, —Å—É–º–º–∞
  - –ü–æ–ª—è: –∫–æ–º–∏—Å—Å–∏—è (%), —Å—Ç–æ–∏–º–æ—Å—Ç—å —É–±–æ—Ä–∫–∏
  - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  - –ö–Ω–æ–ø–∫–∞ ¬´–°–æ–∑–¥–∞—Ç—å¬ª ‚Äî –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å, –≤—Å—ë —Å–æ–∑–¥–∞—ë—Ç—Å—è

- [ ] **5.6** –û–ø–µ—Ä–∞—Ü–∏–∏ (`/manager/transactions`)
  - –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  - –§–∏–ª—å—Ç—Ä—ã: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫, –æ–±—ä–µ–∫—Ç, —Ç–∏–ø, –ø–µ—Ä–∏–æ–¥
  - –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

- [ ] **5.7** –í—ã–ø–ª–∞—Ç—ã (`/manager/payouts`)
  - –¢–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç
  - –§–æ—Ä–º–∞: –≤—ã–±—Ä–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞, –ø–æ–∫–∞–∑–∞—Ç—å –±–∞–ª–∞–Ω—Å, –≤–≤–µ—Å—Ç–∏ —Å—É–º–º—É
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

- [ ] **5.8** –¢–µ—Å—Ç—ã UI –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (Frontend)
  - Vitest + React Testing Library
  - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (Admin / Manager —Å canCreateOwners) ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è, submit, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–µ–∑–¥–∞ ‚Äî –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ–ø–µ—Ä–∞—Ü–∏–π, submit
  - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–ø–ª–∞—Ç—ã ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
  - –¢–∞–±–ª–∏—Ü—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–∞–≥–∏–Ω–∞—Ü–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ UI, –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏.

---

## –§–∞–∑–∞ 6: –§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî –ö–∞–±–∏–Ω–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞

**–¶–µ–ª—å:** —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –≤–∏–¥–∏—Ç —Å–≤–æ–∏ —Ñ–∏–Ω–∞–Ω—Å—ã –∫–∞–∫ –≤ –±–∞–Ω–∫–æ–≤—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

### –®–∞–≥–∏

- [ ] **6.1** –î–∞—à–±–æ—Ä–¥ (`/owner/dashboard`)
  - –ö—Ä—É–ø–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –±–∞–ª–∞–Ω—Å–∞
  - –¢—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: –¥–æ—Ö–æ–¥ / —Ä–∞—Å—Ö–æ–¥—ã / –≤—ã–ø–ª–∞—á–µ–Ω–æ
  - –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ (–º–µ—Å—è—Ü / –∫–≤–∞—Ä—Ç–∞–ª / –≤—Å—ë –≤—Ä–µ–º—è)
  - –õ–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –æ–ø–µ—Ä–∞—Ü–∏–π (—Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏)

- [ ] **6.2** –ú–æ–∏ –æ–±—ä–µ–∫—Ç—ã (`/owner/properties`)
  - –ö–∞—Ä—Ç–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤ (Card)
  - –ê–¥—Ä–µ—Å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–µ–∑–¥–æ–≤
  - –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∑–∞–µ–∑–¥–∞–º –æ–±—ä–µ–∫—Ç–∞

- [ ] **6.3** –ó–∞–µ–∑–¥—ã (`/owner/stays`)
  - –¢–∞–±–ª–∏—Ü–∞: –≥–æ—Å—Ç—å, –æ–±—ä–µ–∫—Ç, –¥–∞—Ç—ã, —Å—É–º–º–∞
  - –§–∏–ª—å—Ç—Ä –ø–æ –æ–±—ä–µ–∫—Ç—É
  - –†–∞—Å–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–µ–∑–¥–∞

- [ ] **6.4** –û–ø–µ—Ä–∞—Ü–∏–∏ (`/owner/transactions`)
  - –¢–∞–±–ª–∏—Ü–∞ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ü–≤–µ—Ç–æ–≤–æ–π –º–∞—Ä–∫–∏—Ä–æ–≤–∫–æ–π
  - –ó–µ–ª—ë–Ω—ã–π ‚Äî –¥–æ—Ö–æ–¥, –∫—Ä–∞—Å–Ω—ã–π ‚Äî —Ä–∞—Å—Ö–æ–¥, —Å–∏–Ω–∏–π ‚Äî –≤—ã–ø–ª–∞—Ç–∞
  - –§–∏–ª—å—Ç—Ä—ã: —Ç–∏–ø, –æ–±—ä–µ–∫—Ç, –ø–µ—Ä–∏–æ–¥

- [ ] **6.5** –í—ã–ø–ª–∞—Ç—ã (`/owner/payouts`)
  - –¢–∞–±–ª–∏—Ü–∞: –¥–∞—Ç–∞, —Å—É–º–º–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

- [ ] **6.6** –¢–µ—Å—Ç—ã UI —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (Frontend)
  - Vitest + React Testing Library
  - –î–∞—à–±–æ—Ä–¥ ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —Å–º–µ–Ω–∞ –ø–µ—Ä–∏–æ–¥–∞
  - –¢–∞–±–ª–∏—Ü—ã ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –≤–∏–¥–∏—Ç –≤—Å–µ —Å–≤–æ–∏ —Ñ–∏–Ω–∞–Ω—Å—ã –≤ –ø–æ–Ω—è—Ç–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ, –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏.

---

## –§–∞–∑–∞ 7: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ + –¥–µ–ø–ª–æ–π

**–¶–µ–ª—å:** production-ready –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

### Backend

- [ ] **7.1** –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (Backend)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö DTO –Ω–∞ –±—ç–∫–µ (class-validator)
  - –ì–ª–æ–±–∞–ª—å–Ω—ã–π `HttpExceptionFilter` ‚Äî –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

### Frontend

- [ ] **7.2** –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (Frontend)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ–æ—Ä–º (RHF + zod)
  - Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –æ—à–∏–±–æ–∫ API
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫, —Ç–∞–π–º–∞—É—Ç–æ–≤

### –û–±—â–µ–µ

- [ ] **7.3** Seed-–¥–∞–Ω–Ω—ã–µ
  - –†–∞—Å—à–∏—Ä–∏—Ç—å `prisma/seed.ts`:
    - ADMIN (admin@balivi.ru) ‚Äî —É–∂–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è
    - 2-3 —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞
    - –û–±—ä–µ–∫—Ç—ã —Å –∑–∞–µ–∑–¥–∞–º–∏
    - –û–ø–µ—Ä–∞—Ü–∏–∏ –∏ –≤—ã–ø–ª–∞—Ç—ã
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `npx prisma db seed`

- [ ] **7.4** Docker
  - `Dockerfile` –¥–ª—è backend
  - `Dockerfile` –¥–ª—è frontend (nginx + static)
  - `docker-compose.yml` (backend + frontend + postgres)
  - `.dockerignore`

- [ ] **7.5** –î–µ–ø–ª–æ–π
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
  - Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (reverse proxy –¥–ª—è API)
  - PM2 –∏–ª–∏ Docker –Ω–∞ VPS
  - SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

- [ ] **7.6** –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
  - E2E-–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç–∞ –±–∞–ª–∞–Ω—Å–∞
  - –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è (–±–∞–∑–æ–≤–∞—è)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏

```
–§–∞–∑–∞ 1 (–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
  ‚îî‚îÄ‚Üí –§–∞–∑–∞ 2 (–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
        ‚îú‚îÄ‚Üí 2.1‚Äì2.6 Backend (auth + guards + swagger + seed + —Ç–µ—Å—Ç—ã)
        ‚îî‚îÄ‚Üí 2.7‚Äì2.10 Frontend (codegen + auth UI + layouts + —Ç–µ—Å—Ç—ã)
              ‚îî‚îÄ‚Üí –§–∞–∑–∞ 3 (CRUD Backend + —Ç–µ—Å—Ç—ã)
                    ‚îú‚îÄ‚Üí –§–∞–∑–∞ 4 (Dashboard Backend + —Ç–µ—Å—Ç—ã)
                    ‚îú‚îÄ‚Üí –§–∞–∑–∞ 5 (UI –ú–µ–Ω–µ–¥–∂–µ—Ä–∞ + —Ç–µ—Å—Ç—ã)
                    ‚îî‚îÄ‚Üí –§–∞–∑–∞ 6 (UI –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ + —Ç–µ—Å—Ç—ã)
                          ‚îî‚îÄ‚Üí –§–∞–∑–∞ 7 (–ü–æ–ª–∏—Ä–æ–≤–∫–∞ + –î–µ–ø–ª–æ–π)
```

–§–∞–∑—ã 4, 5, 6 –º–æ–∂–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–∞–∑—ã 3.

---

## –û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

| –§–∞–∑–∞                                        | –ü—Ä–∏–º–µ—Ä–Ω–æ        |
| ------------------------------------------- | --------------- |
| 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è                            | 2‚Äì3 —á–∞—Å–∞        |
| 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (backend + frontend + —Ç–µ—Å—Ç—ã) | 5‚Äì7 —á–∞—Å–æ–≤       |
| 3. CRUD (Backend) + —Ç–µ—Å—Ç—ã                   | 7‚Äì10 —á–∞—Å–æ–≤      |
| 4. Dashboard + —Ç–µ—Å—Ç—ã                        | 3‚Äì4 —á–∞—Å–∞        |
| 5. UI –ú–µ–Ω–µ–¥–∂–µ—Ä–∞ + —Ç–µ—Å—Ç—ã                     | 10‚Äì14 —á–∞—Å–æ–≤     |
| 6. UI –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ + —Ç–µ—Å—Ç—ã                  | 6‚Äì9 —á–∞—Å–æ–≤       |
| 7. –ü–æ–ª–∏—Ä–æ–≤–∫–∞ + –î–µ–ø–ª–æ–π                       | 4‚Äì6 —á–∞—Å–æ–≤       |
| **–ò—Ç–æ–≥–æ**                                   | **~37‚Äì53 —á–∞—Å–∞** |

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–ª–∞–Ω

1. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã ‚Äî –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª
2. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —à–∞–≥–∞ ‚Äî –æ—Ç–º–µ—Ç–∏—Ç—å —á–µ–∫–±–æ–∫—Å `[x]`
3. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –¢–ó (`TECHNICAL_SPEC.md`) –∏ —ç—Ç–æ—Ç –ø–ª–∞–Ω
4. –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
5. –¢–µ—Å—Ç—ã –ø–∏—à—É—Ç—Å—è **–≤ —Ä–∞–º–∫–∞—Ö –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã**, –∞ –Ω–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –Ω–∞ –∫–æ–Ω–µ—Ü
